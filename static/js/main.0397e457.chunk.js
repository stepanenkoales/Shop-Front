(this.webpackJsonpshop_front=this.webpackJsonpshop_front||[]).push([[0],{109:function(e,t,n){},120:function(e,t,n){},344:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){},347:function(e,t,n){},349:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(46),i=n.n(c),s=n(24),o=n(28),u=n(8),l=n(6),j=n(15),d=n.n(j),b=n(353),p=n(3),m=n(7),h=n(9),O=n(194),f=n.n(O),x="https://ecommerce-shop-stsepanenka.herokuapp.com",g="stepanenkoales",y=new(function(){function e(){Object(m.a)(this,e)}return Object(h.a)(e,[{key:"set",value:function(e,t){localStorage.setItem(e,t)}},{key:"get",value:function(e){return localStorage.getItem(e)}},{key:"remove",value:function(e){localStorage.removeItem(e)}}]),e}()),v=new(function(){function e(){Object(m.a)(this,e)}return Object(h.a)(e,[{key:"get",value:function(e,t){return this.makeRequest(Object(p.a)({url:e,method:"GET"},t))}},{key:"post",value:function(e,t,n){return this.makeRequest(Object(p.a)({url:e,data:t,method:"POST"},n))}},{key:"put",value:function(e,t,n){return this.makeRequest(Object(p.a)({url:e,data:t,method:"PUT"},n))}},{key:"delete",value:function(e,t,n){return this.makeRequest(Object(p.a)({url:e,data:t,method:"DELETE"},n))}},{key:"makeRequest",value:function(e){var t=this,n=y.get("accessToken");return n&&(e.headers=Object(p.a)(Object(p.a)({},e.headers),{},{Authorization:"Bearer "+n})),f()(Object(p.a)(Object(p.a)({},e),{},{url:x+e.url})).then((function(e){return e.data})).catch((function(n){var r,a=y.get("refreshToken");if(401===(null===n||void 0===n||null===(r=n.response)||void 0===r?void 0:r.status)&&a)return t.post("/user/refresh",{refreshToken:a}).then((function(n){return y.set("accessToken",n.accessToken),y.set("refreshToken",n.refreshToken),t.makeRequest(e)})).catch((function(e){throw y.remove("accessToken"),y.remove("refreshToken"),e}));throw n}))}}]),e}()),k=n(4),I=Object(r.createContext)(null),C=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(l.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(!1),o=Object(l.a)(s,2),u=o[0],j=o[1];Object(r.useEffect)((function(){y.get("accessToken")&&(j(!0),v.get("/user").then((function(e){i(e)})).finally((function(){j(!1)})))}),[]);return u?null:Object(k.jsx)(I.Provider,{value:{user:c,setUser:i,logout:function(){i(null),y.remove("accessToken"),y.remove("refreshToken")}},children:t})},w=Object(r.createContext)(null),S=function(e){var t=e.children,n=Object(r.useState)([]),a=Object(l.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(!1),o=Object(l.a)(s,2),u=o[0],j=o[1];return Object(r.useEffect)((function(){var e=JSON.parse(y.get("shoppingCart"))||[];i(e),j(!0)}),[]),Object(r.useEffect)((function(){u&&y.set("shoppingCart",JSON.stringify(c))}),[c,u]),Object(k.jsx)(w.Provider,{value:{shoppingCart:c,setShoppingCart:i},children:t})},P="/",N="/login",T="/register",q="/reset",E="/admin",F="shopping-cart",A="/admin/add-category",M="/admin/add-item",_="/admin/update-item",z="/admin/delete-item",R="orders",L="https://github.com/stepanenkoales",D=n(206),U=n(86),H=n(364),Q=n(362),V=n(365),J=n(366),$=n(367),B=n(368),Y=n(369),K=(n(120),D.a.Search),G=b.a.Header,W=U.a.SubMenu,X=function(e){var t,n=Object(r.useMemo)((function(){return e.categories.filter((function(e){return null===e.parentId}))}),[e]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"menu",children:[Object(k.jsx)(V.a,{style:{color:"#ffffff",fontSize:"2.2em",paddingLeft:"15px"}}),Object(k.jsx)(H.b,{className:"desktop-visible",direction:"vertical",children:Object(k.jsx)(K,{className:"desktop-visible",placeholder:"input search text",allowClear:!0,onSearch:e.onSearch})}),Object(k.jsxs)(U.a,{theme:"dark",mode:"horizontal",disabledOverflow:!0,children:[e.user?Object(k.jsxs)(W,{icon:Object(k.jsx)(J.a,{style:{fontSize:"1.5em"}}),children:[Object(k.jsx)(U.a.Item,{children:Object(k.jsxs)(s.b,{to:R,children:[Object(k.jsx)($.a,{}),Object(k.jsx)("span",{children:"Orders"})]})},"sub1"),Object(k.jsxs)(U.a.Item,{children:[Object(k.jsx)(B.a,{}),Object(k.jsx)("span",{onClick:e.logout,children:"Logout"})]},"sub2")]},"sub"):Object(k.jsx)(U.a.Item,{children:Object(k.jsx)(s.b,{to:N,children:"Login"})},"1"),Object(k.jsx)(U.a.Item,{children:Object(k.jsx)(s.b,{to:F,children:Object(k.jsx)(Q.a,{count:e.shoppingCart.length,color:"#a52a2a",size:"small",children:Object(k.jsx)(Y.a,{style:{color:"#ffffff",fontSize:"1.7em"}})})})},"2"),"admin"===(null===(t=e.user)||void 0===t?void 0:t.role)&&Object(k.jsx)(U.a.Item,{children:Object(k.jsx)(s.b,{to:E,children:"Admin"})},"3")]})]}),Object(k.jsx)(G,{children:Object(k.jsx)(U.a,{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},onClick:e.handleItemsChange,theme:"dark",mode:"horizontal",children:n.map((function(t){return Object(k.jsx)(W,{title:t.category,onTitleClick:e.handleSubCategoriesChange,children:e.categories.filter((function(e){return e.parentId===t.id})).map((function(e){return Object(k.jsx)(U.a.Item,{children:e.category},e.id)}))},t.id)}))})}),Object(k.jsx)(G,{className:"mobile-visible",children:Object(k.jsx)(H.b,{className:"mobile-visible-space",direction:"vertical",children:Object(k.jsx)(K,{placeholder:"input search text",allowClear:!0,onSearch:e.onSearch})})})]})},Z=n(196),ee=n(58),te=n(358),ne=n(360),re=n(74),ae=n(357),ce=n(165),ie=n(363),se=function(){function e(){Object(m.a)(this,e)}return Object(h.a)(e,[{key:"uploadImage",value:function(){var e=Object(o.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ie.a)(),(r=new FormData).append("file",t),r.append("public_id",n),e.next=6,v.post("/cloudinary/upload",r,{headers:{"Content-Type":"multipart/form-data"}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteImage",value:function(e){return v.post("/cloudinary/delete",{public_id:e})}},{key:"getProductCardImage",value:function(e,t){var n=new ae.a({cloud:{cloudName:g}}).image(e);return n.resize(Object(ce.a)().width(t||150)),n}},{key:"getImage",value:function(e){var t=new ae.a({cloud:{cloudName:g}}).image(e);return t.resize(Object(ce.a)().height(140)),t}}]),e}(),oe=new se,ue=function(e){var t=Object(r.useContext)(w).shoppingCart;return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{style:{overflow:"auto"},children:Object(k.jsx)(Z.a,{dataLength:e.items.length,next:e.onMobilePaginationChange,hasMore:!0,children:e.items.map((function(n){return Object(k.jsxs)(te.a,{style:{marginTop:"20px"},hoverable:!0,actions:[(r=n.id,t.find((function(e){return e.itemId===r}))?Object(k.jsx)(ee.a,{type:"ghost",children:Object(k.jsx)(s.b,{to:F,children:"Added to Cart"})}):Object(k.jsx)(ee.a,{onClick:function(){return e.addToShoppingCart({itemId:r,quantity:1})},type:"ghost",children:"Add to Cart"}))],children:[Object(k.jsx)(re.AdvancedImage,{cldImg:oe.getProductCardImage(n.image)}),Object(k.jsx)(te.a.Meta,{style:{paddingTop:"10px"},title:n.name,description:n.description}),Object(k.jsx)(ne.a,{style:{paddingTop:"10px"},value:n.price,prefix:"$",precision:2})]},n.id);var r}))})})})},le=n(361),je=n(355),de=function(e){var t=Object(r.useContext)(w).shoppingCart,n=Object(r.useCallback)((function(n){return t.find((function(e){return e.itemId===n.id}))?Object(k.jsx)(ee.a,{type:"ghost",children:Object(k.jsx)(s.b,{to:F,children:"Added to Cart"})}):Object(k.jsx)(ee.a,{onClick:function(){return e.addToShoppingCart({itemId:n.id,quantity:n.quantity?n.quantity:1})},type:"link",children:Object(k.jsx)(Y.a,{style:{color:"#0f0f0f",fontSize:"1.4em"}})})}),[e,t]),a=Object(r.useMemo)((function(){return[{title:"",dataIndex:"image",render:function(e,t){return Object(k.jsx)(re.AdvancedImage,{cldImg:oe.getImage(t.image)})}},{title:"Name",dataIndex:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},render:function(t,n){return Object(k.jsx)("div",{onClick:function(){e.setShowProductCard(!0),e.setProduct(n)},style:{border:"none",background:"white",cursor:"pointer",color:"#1890ff"},children:n.name})}},{title:"Description",dataIndex:"description"},{title:"Price",dataIndex:"price",sorter:function(e,t){return e.price-t.price}},{title:"Quantity",dataIndex:"quantity",render:function(t,n){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(le.a,{min:1,max:10,defaultValue:1,onChange:function(t){return e.handleQuantityChange(t,n.id)}})})}},{title:"",dataIndex:"",render:function(e,t){return n(t)}}]}),[e,n]);return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(je.a,{className:"product-table-desktop",rowKey:function(e){return e.id},columns:a,dataSource:e.items,pagination:{pageSize:5,total:e.totalItems,hideOnSinglePage:!0,onChange:e.onPaginationChange,current:e.currentPage},size:"small",bordered:!0})})},be=n(106),pe=n(61),me=n(354),he=n(370),Oe=function(e){var t=Object(r.useContext)(w).shoppingCart;return Object(k.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(k.jsx)(te.a,{style:{marginTop:"40px",width:"60%",fontSize:"16px"},title:e.product.name,bordered:!1,hoverable:!0,actions:[Object(k.jsxs)(ee.a,{onClick:function(){return e.setShowProductCard(!1)},type:"link",children:[Object(k.jsx)(he.a,{}),"back to Products"]}),t.find((function(t){return t.itemId===e.product.id}))?Object(k.jsx)(ee.a,{type:"ghost",children:Object(k.jsx)(s.b,{to:F,children:"Added to Cart"})}):Object(k.jsx)(ee.a,{onClick:function(){return e.addToShoppingCart({itemId:e.product.id,quantity:1})},type:"ghost",children:"Add to Cart"})],children:Object(k.jsxs)(be.a,{children:[Object(k.jsx)(pe.a,{flex:3,children:Object(k.jsx)(re.AdvancedImage,{cldImg:oe.getProductCardImage(e.product.image,200)})}),Object(k.jsxs)(pe.a,{offset:2,flex:2,children:[Object(k.jsx)(ne.a,{style:{paddingTop:"10px",fontSize:"16px"},value:e.product.price,prefix:"$",precision:2}),Object(k.jsx)(me.a,{}),Object(k.jsx)("p",{children:e.product.description})]})]})})})},fe=n(208),xe=function(e){var t=Object(r.useState)(null),n=Object(l.a)(t,2),a=n[0],c=n[1];return e.showProductCard?Object(k.jsx)(Oe,{product:a,addToShoppingCart:e.addToShoppingCart,setShowProductCard:e.setShowProductCard}):Object(k.jsx)(fe.a,{query:{maxWidth:575},children:function(t){return t?Object(k.jsx)(ue,{items:e.items,totalItems:e.totalItems,addToShoppingCart:e.addToShoppingCart,onMobilePaginationChange:e.onMobilePaginationChange}):Object(k.jsx)(de,{setShowProductCard:e.setShowProductCard,setProduct:c,items:e.items,totalItems:e.totalItems,onPaginationChange:e.onPaginationChange,currentPage:e.currentPage,handleQuantityChange:e.handleQuantityChange,addToShoppingCart:e.addToShoppingCart})}})},ge=b.a.Header,ye=b.a.Content,ve=b.a.Footer,ke=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),i=Object(l.a)(c,2),j=i[0],p=i[1],m=Object(r.useState)(null),h=Object(l.a)(m,2),O=h[0],f=h[1],x=Object(r.useState)(0),g=Object(l.a)(x,2),y=g[0],C=g[1],S=Object(s.c)(),P=Object(l.a)(S,2),N=P[0],T=P[1],q=Object(r.useState)(1),E=Object(l.a)(q,2),F=E[0],A=E[1],M=Object(r.useState)(!1),_=Object(l.a)(M,2),z=_[0],R=_[1],D=Object(r.useContext)(I),U=D.user,H=D.logout,Q=Object(r.useContext)(w),V=Q.shoppingCart,J=Q.setShoppingCart;Object(r.useEffect)((function(){return v.get("/categories/",{params:{name:"all"}}).then((function(e){p(e)})).catch((function(e){return console.log(e)})),function(){p([])}}),[]);var $=Object(r.useCallback)((function(e){var t=[];return j.filter((function(t){return t.parentId===e})).forEach((function(e){return t.push(e.id)})),t}),[j]);Object(r.useEffect)((function(){if(N.get("subId"))return v.get("/items",{params:{categoryId:N.get("subId")}}).then((function(e){a(e.rows),C(e.count)})).catch((function(e){return console.log(e)}));if(N.get("id")){var e=$(N.get("id"));if(0===e.length)return;v.post("/items/id",{categoryId:e}).then((function(e){a(e.rows),C(e.count)})).catch((function(e){return console.log(e)}))}}),[$,N]);var B=Object(r.useCallback)((function(e){var t=V.findIndex((function(t){return t.itemId===e.itemId}));if(t>=0)return V[t].quantity=++V[t].quantity,void J(Object(u.a)(V));J([].concat(Object(u.a)(V),[e]))}),[V,J]),Y=Object(r.useCallback)(function(){var e=Object(o.a)(d.a.mark((function e(t){var n,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(!1),A(1),T({id:t.key}),f(null),0!==(n=$(t.key)).length){e.next=9;break}return a([]),C(0),e.abrupt("return");case 9:return e.next=11,v.post("/items/id",{categoryId:n});case 11:r=e.sent,c=r.rows,i=r.count,a(c),C(i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[T,$]),K=function(){var e=Object(o.a)(d.a.mark((function e(t){var n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!1),A(1),T({id:t.keyPath[1],subId:t.keyPath[0]}),f(null),e.next=6,v.get("/items/",{params:{categoryId:t.key}});case 6:n=e.sent,r=n.rows,c=n.count,a(r),C(c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(o.a)(d.a.mark((function e(t,r,c){var i,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(t),i=$(N.get("id")),e.next=4,v.get("/items/",{params:{categoryId:N.get("subId")||i,currentPage:t,pageSize:r,name:O}});case 4:if(s=e.sent,o=s.rows,!c){e.next=8;break}return e.abrupt("return",a([].concat(Object(u.a)(n),Object(u.a)(o))));case 8:a(o);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(o.a)(d.a.mark((function e(){var t,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$(N.get("id")),e.next=3,v.get("/items/",{params:{categoryId:N.get("subId")||t,currentPage:F+1,pageSize:5,name:O}});case 3:r=e.sent,c=r.rows,i=r.count,C(i),A((function(e){return e+1})),a([].concat(Object(u.a)(n),Object(u.a)(c)));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(o.a)(d.a.mark((function e(t){var n,r,c,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.trim()){e.next=3;break}return e.abrupt("return",null);case 3:return f(n),r=N.get("id")?$(N.get("id")):null,e.next=7,v.post("/items/id",{categoryId:N.get("subId")||r,name:n});case 7:c=e.sent,i=c.rows,s=c.count,a(i),C(s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=Object(r.useCallback)((function(e,t){var r=n.findIndex((function(e){return e.id===t}));r>=0&&(n[r].quantity=e,a(Object(u.a)(n)))}),[n]);return Object(k.jsxs)(b.a,{children:[Object(k.jsx)(ge,{children:Object(k.jsx)(X,{onSearch:Z,shoppingCart:V,categories:j,handleItemsChange:K,handleSubCategoriesChange:Y,user:U,logout:H})}),Object(k.jsx)(ye,{children:Object(k.jsx)("div",{className:"content",children:Object(k.jsx)(xe,{showProductCard:z,setShowProductCard:R,items:n,totalItems:y,onPaginationChange:G,currentPage:F,handleQuantityChange:ee,addToShoppingCart:B,onMobilePaginationChange:W})})}),Object(k.jsxs)(ve,{children:["Please visit my",Object(k.jsx)(s.b,{to:L,children:" github"})]})]})},Ie=n(359),Ce=n(105),we=n(371),Se=n(27),Pe=n(207),Ne=new(function(){function e(){Object(m.a)(this,e)}return Object(h.a)(e,[{key:"openNotification",value:function(e){var t=e.type,n=e.message,r=void 0===n?"":n,a=e.description,c=e.duration;Pe.a[t]({message:"".concat(t,": ").concat(r),description:a,duration:c})}}]),e}()),Te=(n(344),function(){var e,t,n=Object(Se.g)(),r=(null===(e=Object(Se.f)().state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||P,a=function(){var e=Object(o.a)(d.a.mark((function e(t){var a,c,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.post("/user/login",t);case 3:a=e.sent,c=a.accessToken,i=a.refreshToken,y.set("accessToken",c),n(r,{replace:!0}),t.remember?y.set("refreshToken",i):y.set("refreshToken",null),Ne.openNotification({type:"success",description:"You are logged in!",duration:6}),e.next=24;break;case 11:e.prev=11,e.t0=e.catch(0),s={type:"error",message:e.t0.response.statusText,description:e.t0.response.data.message,duration:6},e.t1=e.t0.response.status,e.next=400===e.t1?17:401===e.t1?19:22;break;case 17:return Ne.openNotification(s),e.abrupt("break",24);case 19:return s.description="Please login!",Ne.openNotification(s),e.abrupt("break",24);case 22:s.description=e.t0.response.data.message,Ne.openNotification(s);case 24:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)(Ie.a,{name:"login",initialValues:{remember:!0},onFinish:a,children:[Object(k.jsx)(Ie.a.Item,{name:"email",className:"input",rules:[{type:"email",message:"The input is not valid Email!"},{required:!0,message:"Please input your Email!"}],children:Object(k.jsx)(D.a,{prefix:Object(k.jsx)(J.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(k.jsx)(Ie.a.Item,{name:"password",className:"input",rules:[{required:!0,message:"Please input your Password!"},{type:"string",min:9,message:"Password must be at least 9 characters"}],children:Object(k.jsx)(D.a,{prefix:Object(k.jsx)(we.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(k.jsxs)(Ie.a.Item,{children:[Object(k.jsx)(Ie.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(k.jsx)(Ce.a,{children:"Remember me"})}),Object(k.jsx)(s.b,{to:q,children:"Forgot password"})]}),Object(k.jsxs)(Ie.a.Item,{children:[Object(k.jsx)(ee.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Login"}),Object(k.jsxs)("div",{className:"footer-text",children:[Object(k.jsxs)("p",{children:["Don't have an account yet?",Object(k.jsx)(s.b,{to:T,children:" Register"})]}),Object(k.jsxs)("p",{children:["return to ",Object(k.jsx)(s.b,{to:P,children:"Homepage"})]})]})]})]})})}),qe=(n(345),function(){var e=Object(Se.g)(),t=function(){var t=Object(o.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.post("/user",n);case 3:Ne.openNotification({type:"info",description:"In order to complete the login, please click the link in the email we just sent!",duration:10}),e(N),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Ne.openNotification({type:"error",message:t.t0.response.statusText,description:t.t0.response.data.message,duration:6});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)(Ie.a,{name:"register-form",onFinish:t,children:[Object(k.jsx)(Ie.a.Item,{name:"email",className:"custom-email-input",rules:[{type:"email",message:"The input is not valid Email!"},{required:!0,message:"Please input your Email!"}],children:Object(k.jsx)(D.a,{placeholder:"Email",prefix:Object(k.jsx)(J.a,{})})}),Object(k.jsx)(Ie.a.Item,{name:"password",className:"input",rules:[{required:!0,message:"Please input your password!"},{type:"string",min:9,message:"Password must be at least 9 characters"}],children:Object(k.jsx)(D.a.Password,{placeholder:"Password",prefix:Object(k.jsx)(we.a,{})})}),Object(k.jsxs)(Ie.a.Item,{children:[Object(k.jsx)(ee.a,{type:"primary",htmlType:"submit",className:"register-button",children:"Register"}),Object(k.jsxs)("p",{children:["return to ",Object(k.jsx)(s.b,{to:P,children:"Homepage"})]})]})]})})}),Ee=n(372),Fe=n(115),Ae=function(e){var t=function(e){var t=0;return e.items.forEach((function(e){t+=e.order_item.price*e.order_item.quantity})),t.toFixed(2)};return Object(k.jsx)(k.Fragment,{children:e.orders.map((function(n){return Object(k.jsxs)(te.a,{style:{margin:"20px"},title:"Order placed ".concat((r=n.createdAt,new Date(r).toString().split(" ").slice(1,5).join(" "))),children:[Object(k.jsx)("br",{}),Object(k.jsx)("p",{children:"Status: ".concat(n.status)}),Object(k.jsx)("p",{children:"Ship to: ".concat(n.address)}),Object(k.jsx)(ne.a,{title:"Total",value:t(n),prefix:"$",precision:2}),n.items.map((function(e){return Object(k.jsxs)(te.a,{type:"inner",style:{marginTop:"16px"},hoverable:!0,children:[Object(k.jsx)(te.a.Meta,{title:e.name,description:e.description}),Object(k.jsx)("br",{}),Object(k.jsx)("p",{children:"Quantity: ".concat(e.order_item.quantity)}),Object(k.jsx)("p",{children:"Sale Price: ".concat(e.order_item.price)})]},e.id)})),"pending"===n.status&&Object(k.jsx)(ee.a,{type:"primary",style:{marginTop:16},onClick:function(){return e.onClick(n.id)},children:"Cancel Order"})]},n.id);var r}))})},Me=(n(346),b.a.Content),_e=Fe.a.Option,ze=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(r.useContext)(I).logout;Object(r.useEffect)((function(){v.get("/order").then((function(e){a(e)})).catch((function(e){console.log(e)})).finally((function(){return u(!0)}))}),[]);var d=function(e){if(!e)return v.get("/order").then((function(e){a(e)})).catch((function(e){return console.log(e)}));v.get("/order",{params:{time:24*e*60*60*1e3}}).then((function(e){a(e)})).catch((function(e){return console.log(e)}))};return o?Object(k.jsx)("div",{children:Object(k.jsx)(b.a,{style:{marginTop:"150px"},children:Object(k.jsx)(Me,{children:Object(k.jsxs)(be.a,{children:[Object(k.jsx)(pe.a,{span:8,children:Object(k.jsx)("div",{className:"orders-left-menu",children:Object(k.jsxs)(U.a,{mode:"vertical",children:[Object(k.jsx)(U.a.Item,{children:Object(k.jsxs)(s.b,{to:P,children:[Object(k.jsx)(Ee.a,{}),Object(k.jsx)("span",{children:"Home"})]})},"1"),Object(k.jsxs)(U.a.Item,{children:[Object(k.jsx)(B.a,{}),Object(k.jsx)("span",{onClick:j,children:"Logout"})]},"2")]})})}),Object(k.jsxs)(pe.a,{span:12,children:[Object(k.jsx)("h1",{children:"Your Orders"}),Object(k.jsxs)(me.a,{orientation:"left",children:["".concat(1===n.length?"1 order":"".concat(n.length," orders")," placed in "),Object(k.jsxs)(Fe.a,{defaultValue:"",onSelect:d,children:[Object(k.jsx)(_e,{value:"",children:"at all time"}),Object(k.jsx)(_e,{value:"30",children:"last 30 days"}),Object(k.jsx)(_e,{value:"90",children:"past 3 months"}),Object(k.jsx)(_e,{value:"180",children:"past 6 months"})]})]}),n.length>0?Object(k.jsx)(Ae,{onClick:function(e){v.delete("/order",{id:e}).then((function(e){d()})).catch((function(e){return console.log(e)}))},orders:n}):Object(k.jsx)("div",{children:Object(k.jsx)("h3",{children:"You have not placed any orders. Please choose another period!"})})]})]})})})}):null},Re=(n(347),function(){var e=Object(Se.g)(),t=function(){var t=Object(o.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.post("/user/reset",n);case 3:Ne.openNotification({type:"info",description:"New password was sent to your email.",duration:10}),e(N),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Ne.openNotification({type:"error",message:t.t0.response.statusText,description:t.t0.response.data.message,duration:10});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)(Ie.a,{name:"reset-form",onFinish:t,children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{children:"Having trouble logging in?"}),Object(k.jsx)("p",{children:"Enter your email to get started"})]}),Object(k.jsx)(Ie.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid Email!"},{required:!0,message:"Please input your Email!"}],className:"email-field",children:Object(k.jsx)(D.a,{prefix:Object(k.jsx)(J.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(k.jsxs)(Ie.a.Item,{children:[Object(k.jsx)(ee.a,{type:"primary",htmlType:"submit",className:"reset-button",children:"Reset password"}),Object(k.jsxs)("div",{children:["return to ",Object(k.jsx)(s.b,{to:N,children:"Login"})]})]})]})})}),Le=(n(109),function(){return Object(k.jsxs)("div",{className:"wrapper",children:[Object(k.jsx)(ee.a,{type:"primary",block:!0,children:Object(k.jsx)(s.b,{to:A,children:"Add Category"})}),Object(k.jsx)(ee.a,{type:"primary",block:!0,children:Object(k.jsx)(s.b,{to:M,children:"Add Item"})}),Object(k.jsx)(ee.a,{type:"primary",block:!0,children:Object(k.jsx)(s.b,{to:_,children:"Update Item"})}),Object(k.jsx)(ee.a,{type:"primary",block:!0,children:Object(k.jsx)(s.b,{to:z,children:"Delete Item"})}),Object(k.jsx)(ee.a,{type:"link",block:!0,children:Object(k.jsxs)(s.b,{to:P,children:[Object(k.jsx)(he.a,{})," back to Home Page"]})})]})}),De=n(373),Ue=n(211),He=Fe.a.Option,Qe=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Ie.a.useForm(),i=Object(l.a)(c,1)[0],u=Object(Se.g)();Object(r.useEffect)((function(){v.get("/categories/",{params:{name:"parent"}}).then((function(e){e.push({id:null,category:"no category"}),a(e)}))}),[]);var j=function(){var e=Object(o.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.category.forEach((function(e){e.category=e.category.trim()})),e.prev=1,e.next=4,v.post("/categories",t.category);case 4:Ne.openNotification({type:"success",description:"Categories has been successfully added!",duration:10}),u(E),e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(1),!(a=null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)){e.next=13;break}return e.abrupt("return",Ne.openNotification({type:"error",message:"".concat(a.message,"!"),description:"".concat(a.type," on name: ").concat(a.value),duration:20}));case 13:Ne.openNotification({type:"error",message:"invalid data type",duration:20});case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"container-admin",children:Object(k.jsxs)(Ie.a,{form:i,name:"dynamic_form_nest_item",onFinish:j,autoComplete:"off",children:[Object(k.jsx)(Ie.a.List,{name:"category",initialValue:[{}],children:function(e,t){var r=t.add,a=t.remove;return Object(k.jsxs)(k.Fragment,{children:[e.map((function(e){return Object(k.jsxs)(H.b,{align:"baseline",children:[Object(k.jsx)(Ie.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.categories!==t.categories},children:function(){return Object(k.jsx)(Ie.a.Item,Object(p.a)(Object(p.a)({},e),{},{label:"Parent",name:[e.name,"parentId"],children:Object(k.jsx)(Fe.a,{children:n.map((function(e){return Object(k.jsx)(He,{value:e.id,children:e.category},e.category)}))})}))}}),Object(k.jsx)(Ie.a.Item,Object(p.a)(Object(p.a)({},e),{},{label:"Category",name:[e.name,"category"],rules:[{required:!0,message:"Missing category",validator:function(e,t){return t.trim()?Promise.resolve():Promise.reject(new Error)}}],children:Object(k.jsx)(D.a,{})})),Object(k.jsx)(De.a,{onClick:function(){return a(e.name)}})]},e.key)})),Object(k.jsx)(Ie.a.Item,{children:Object(k.jsx)(ee.a,{type:"dashed",onClick:function(){return r()},block:!0,icon:Object(k.jsx)(Ue.a,{}),children:"Add category"})})]})}}),Object(k.jsx)(Ie.a.Item,{children:Object(k.jsx)(ee.a,{type:"primary",htmlType:"submit",className:"admin-button",children:"Submit"})}),Object(k.jsx)(Ie.a.Item,{children:Object(k.jsx)(ee.a,{type:"primary",block:!0,children:Object(k.jsx)(s.b,{to:E,children:"Admin Panel"})})})]})})},Ve=n(356),Je=n(374),$e=Fe.a.Option,Be=function(){var e=Ie.a.useForm(),t=Object(l.a)(e,1)[0],n=Object(r.useState)([]),a=Object(l.a)(n,2),c=a[0],i=a[1],u=Object(Se.g)();Object(r.useEffect)((function(){v.get("/categories/",{params:{name:"subcategory"}}).then((function(e){i(e)}))}),[]);var j={maxCount:1},b=function(){var e=Object(o.a)(d.a.mark((function e(t){var n,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.onSuccess,r=t.onError,a=t.file,(c=new FileReader).readAsDataURL(a),c.onloadend=Object(o.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.uploadImage(c.result);case 3:t=e.sent,n({url:"url",public_id:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe.deleteImage(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.public_id);case 3:if("ok"===e.sent.result){e.next=6;break}throw new Error("not deleted");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(o.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.items.forEach((function(e){0===e.image.fileList.length?e.image=null:e.image=e.image.fileList[0].response.public_id,e.name=e.name.trim(),e.description=e.description.trim()})),e.prev=1,e.next=4,v.post("/items",t.items);case 4:Ne.openNotification({type:"success",message:"Items has been successfully added!",duration:10}),u(E),e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(1),!(a=null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message).type){e.next=13;break}return e.abrupt("return",Ne.openNotification({type:"error",message:a.message,description:"".concat(a.type," on name: ").concat(a.value),duration:20}));case 13:Ne.openNotification({type:"error",message:"invalid data type",duration:20});case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"container-admin",children:Object(k.jsxs)(Ie.a,{form:t,name:"dynamic_form_nest_item",onFinish:h,autoComplete:"off",children:[Object(k.jsx)(Ie.a.List,{name:"items",initialValue:[{}],children:function(e,t){var n=t.add,r=t.remove;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{children:e.map((function(e){return Object(k.jsxs)(H.b,{align:"baseline",children:[Object(k.jsx)(Ie.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.categories!==t.categories},children:function(){return Object(k.jsx)(Ie.a.Item,Object(p.a)(Object(p.a)({},e),{},{label:"Category",name:[e.name,"categoryId"],rules:[{required:!0,message:"Missing category"}],children:Object(k.jsx)(Fe.a,{children:c.map((function(e){return Object(k.jsx)($e,{value:e.id,children:e.category},e.id)}))})}))}}),Object(k.jsx)(Ie.a.Item,Object(p.a)(Object(p.a)({},e),{},{label:"Image",name:[e.name,"image"],children:Object(k.jsx)(Ve.a,Object(p.a)(Object(p.a)({customRequest:b,onRemove:m,listType:"picture"},j),{},{children:Object(k.jsx)(ee.a,{icon:Object(k.jsx)(Je.a,{}),children:"Click to Upload"})}))})),Object(k.jsx)(Ie.a.Item,Object(p.a)(Object(p.a)({},e),{},{label:"Name",name:[e.name,"name"],rules:[{required:!0,message:"Missing name",validator:function(e,t){return t.trim()?Promise.resolve():Promise.reject(new Error)}}],children:Object(k.jsx)(D.a,{})})),Object(k.jsx)(Ie.a.Item,Object(p.a)(Object(p.a)({},e),{},{label:"Price",name:[e.name,"price"],rules:[{required:!0,message:"Missing price",validator:function(e,t){return Number(t.trim())?Promise.resolve():Promise.reject(new Error)}}],children:Object(k.jsx)(D.a,{})})),Object(k.jsx)(Ie.a.Item,Object(p.a)(Object(p.a)({},e),{},{label:"Description",name:[e.name,"description"],rules:[{required:!0,message:"Missing description",validator:function(e,t){return t.trim()?Promise.resolve():Promise.reject(new Error)}}],children:Object(k.jsx)(D.a,{})})),Object(k.jsx)(De.a,{onClick:function(){return r(e.name)}})]},e.key)}))}),Object(k.jsx)(Ie.a.Item,{children:Object(k.jsx)(ee.a,{type:"dashed",onClick:function(){return n()},block:!0,icon:Object(k.jsx)(Ue.a,{}),children:"Add item"})})]})}}),Object(k.jsx)(Ie.a.Item,{children:Object(k.jsx)(ee.a,{type:"primary",htmlType:"submit",className:"admin-button",children:"Submit"})}),Object(k.jsx)(Ie.a.Item,{children:Object(k.jsx)(ee.a,{type:"primary",block:!0,children:Object(k.jsx)(s.b,{to:E,children:"Admin Panel"})})})]})})},Ye=Fe.a.Option,Ke=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),i=Object(l.a)(c,2),u=i[0],j=i[1];Object(r.useEffect)((function(){v.get("/categories/",{params:{name:"subcategory"}}).then((function(e){a(e)}))}),[]);var b=function(){var e=Object(o.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/items/",{params:{categoryId:t,pageSize:50}});case 2:n=e.sent,r=n.rows,j(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(d.a.mark((function e(t){var n,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.price,a=t.description,c={price:r,description:a},e.prev=2,e.next=5,v.put("/items/".concat(n),c);case 5:Ne.openNotification({type:"success",description:"Item has been successfully updated!",duration:10}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),Ne.openNotification({type:"error",message:"Invalid data type!",duration:20});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)(Ie.a,{name:"dynamic_form_nest_item",onFinish:p,autoComplete:"off",children:[Object(k.jsxs)("div",{className:"menu",children:[Object(k.jsx)(Ie.a.Item,{label:"Category",name:"categoryId",rules:[{required:!0,message:"Missing category"}],children:Object(k.jsx)(Fe.a,{onSelect:b,children:n.map((function(e){return Object(k.jsx)(Ye,{value:e.id,children:e.category},e.id)}))})}),Object(k.jsx)(Ie.a.Item,{label:"Name",name:"id",rules:[{required:!0,message:"Missing name"}],children:Object(k.jsx)(Fe.a,{children:u.map((function(e){return Object(k.jsx)(Ye,{value:e.id,children:e.name},e.id)}))})}),Object(k.jsx)(Ie.a.Item,{label:"Price",name:"price",rules:[{required:!0,message:"Missing price"}],children:Object(k.jsx)(D.a,{})}),Object(k.jsx)(Ie.a.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Missing description"}],children:Object(k.jsx)(D.a,{})})]}),Object(k.jsx)(Ie.a.Item,{children:Object(k.jsx)(ee.a,{type:"primary",htmlType:"submit",className:"admin-button",children:"Submit"})}),Object(k.jsx)(Ie.a.Item,{children:Object(k.jsx)(ee.a,{type:"primary",block:!0,children:Object(k.jsx)(s.b,{to:E,children:"Admin Panel"})})})]})})},Ge=Fe.a.Option,We=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),i=Object(l.a)(c,2),u=i[0],j=i[1];Object(r.useEffect)((function(){v.get("/categories/",{params:{name:"subcategory"}}).then((function(e){a(e)}))}),[]);var b=function(){var e=Object(o.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/items/",{params:{categoryId:t,pageSize:50}});case 2:n=e.sent,r=n.rows,j(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.delete("/items/".concat(t.id));case 3:Ne.openNotification({type:"success",message:"Item has been successfully deleted!",duration:10}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Ne.openNotification({type:"error",message:"Something went wrong. Please try again!",duration:20});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)(Ie.a,{name:"dynamic_form_nest_item",onFinish:p,autoComplete:"off",children:[Object(k.jsxs)("div",{className:"menu",children:[Object(k.jsx)(Ie.a.Item,{label:"Category",name:"categoryId",rules:[{required:!0,message:"Missing category"}],children:Object(k.jsx)(Fe.a,{onSelect:b,children:n.map((function(e){return Object(k.jsx)(Ge,{value:e.id,children:e.category},e.id)}))})}),Object(k.jsx)(Ie.a.Item,{label:"Name",name:"id",rules:[{required:!0,message:"Missing name"}],children:Object(k.jsx)(Fe.a,{children:u.map((function(e){return Object(k.jsx)(Ge,{value:e.id,children:e.name},e.id)}))})})]}),Object(k.jsx)(Ie.a.Item,{children:Object(k.jsx)(ee.a,{type:"primary",htmlType:"submit",className:"admin-button",children:"Submit"})}),Object(k.jsx)(Ie.a.Item,{children:Object(k.jsx)(ee.a,{type:"primary",block:!0,children:Object(k.jsx)(s.b,{to:E,children:"Admin Panel"})})})]})})},Xe=n(212),Ze=D.a.TextArea,et=function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{children:"Review your order"}),Object(k.jsx)("h3",{children:"Delivery Terms"}),Object(k.jsxs)(Ie.a,{name:"checkout",onFinish:e.onFinish,autoComplete:"off",style:{marginTop:"10px",color:"white",alignItems:"flex-start",height:"300px"},children:[Object(k.jsx)(Ie.a.Item,{label:"Address",name:"address",rules:[{required:!0,message:"Please input your address!"}],children:Object(k.jsx)(D.a,{})}),Object(k.jsx)(Ie.a.Item,{label:"Comments",name:"comments",children:Object(k.jsx)(Ze,{rows:4})}),Object(k.jsx)(Ie.a.Item,{children:Object(k.jsx)(ee.a,{style:{borderRadius:"0px",width:"159px"},type:"primary",htmlType:"submit",className:"register-button",children:"Place your order"})})]}),Object(k.jsx)(be.a,{children:Object(k.jsx)(pe.a,{span:19,offset:1,children:Object(k.jsx)("p",{children:"By placing your order, you agree to E-shop's privacy notice and conditions of use. By placing your order, you agree to Terms and Conditions, and authorize us to charge your default payment method or any other payment method on file."})})}),Object(k.jsx)(me.a,{})]})},tt=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)("start"),i=Object(l.a)(c,2),j=i[0],b=i[1],p=Object(Se.g)(),m=Object(r.useContext)(I).user,h=Object(r.useContext)(w),O=h.shoppingCart,f=h.setShoppingCart;Object(r.useEffect)((function(){var e=[];O.forEach((function(t){return e.push(t.itemId)})),0!==e.length&&v.post("/items/id",{itemsId:e}).then((function(e){e.rows.forEach((function(e){var t=O.findIndex((function(t){return t.itemId===e.id}));e.quantity=O[t].quantity})),a(e.rows)})).catch((function(e){return console.log(e.response)}))}),[O]);var x=Object(r.useCallback)((function(){var e=0;return n.map((function(t){return e+=t.quantity})),"".concat(e,e>1?" items":" item")}),[n]),g=Object(r.useCallback)((function(){var e=0;return n.forEach((function(t){e+=t.price*t.quantity})),e.toFixed(2)}),[n]),C=Object(r.useCallback)((function(e,t){O.filter((function(e){return e.itemId===t})).forEach((function(t){return t.quantity=e})),n.filter((function(e){return e.id===t})).forEach((function(t){return t.quantity=e})),a(n),f(Object(u.a)(O))}),[O,f,n]),S=Object(r.useCallback)((function(e){O.splice(O.findIndex((function(t){return t.itemId===e})),1),n.splice(n.findIndex((function(t){return t.id===e})),1),O.length||y.set("shoppingCart",JSON.stringify([])),a(Object(u.a)(n)),f(Object(u.a)(O))}),[O,f,n]),T=function(){var e=Object(o.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n.forEach((function(e){return r.push({itemId:e.id,price:e.price,quantity:e.quantity})})),e.prev=2,e.next=5,v.post("/order/",{body:r,value:t});case 5:Ne.openNotification({type:"success",description:"Order has been successfully submitted!",duration:20}),f([]),p(P),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),Ne.openNotification({type:"error",message:"Please try again later!",duration:10});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),q=Object(r.useMemo)((function(){return[{title:"",dataIndex:"image",render:function(e,t){return Object(k.jsx)(re.AdvancedImage,{cldImg:oe.getImage(t.image)})}},{title:"Name",dataIndex:"name"},{title:"Quantity",dataIndex:"quantity",render:function(e,t){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(le.a,{min:1,max:10,defaultValue:t.quantity,onChange:function(e){return C(e,t.id)}}),Object(k.jsx)(ee.a,{type:"link",onClick:function(){return S(t.id)},children:Object(k.jsx)(Xe.a,{})})]})}},{title:"Price",dataIndex:"price",render:function(e,t){return Object(k.jsx)(ne.a,{valueStyle:{fontSize:"17px"},title:"Price per 1",value:t.price,prefix:"$",precision:2})}}]}),[C,S]);return Object(k.jsxs)("div",{className:"shopping-cart-container",children:[Object(k.jsx)("h1",{children:"Shopping Cart"}),O.length?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(je.a,{rowKey:function(e){return e.id},columns:q,dataSource:n,size:"small",bordered:!0,pagination:{pagesize:10,hideOnSinglePage:!0}}),Object(k.jsx)(be.a,{children:Object(k.jsx)(pe.a,{offset:17,span:5,children:Object(k.jsx)(ne.a,{title:"Subtotal (".concat(x(),")"),value:g(),prefix:"$",precision:2})})}),Object(k.jsx)(me.a,{}),Object(k.jsxs)(be.a,{children:[Object(k.jsx)(pe.a,{span:5,children:Object(k.jsx)(ee.a,{type:"link",children:Object(k.jsxs)(s.b,{to:P,children:[Object(k.jsx)(he.a,{})," Continue shopping"]})})}),Object(k.jsx)(pe.a,{span:5,offset:12,children:Object(k.jsx)(ee.a,{type:"primary",onClick:function(){return b("checkout")},children:"Proceed to checkout"})})]}),Object(k.jsx)(me.a,{}),"checkout"===j&&!m&&Object(k.jsx)(Se.a,{to:N}),"checkout"===j&&m&&Object(k.jsx)(et,{onFinish:T})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{children:"Your Cart is empty"}),Object(k.jsx)(me.a,{}),Object(k.jsx)(ee.a,{type:"link",children:Object(k.jsxs)(s.b,{to:P,children:[Object(k.jsx)(he.a,{})," Continue shopping"]})})]})]})},nt=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(l.a)(n,2),c=a[0],i=a[1],s=Object(r.useContext)(I),o=s.user,u=s.setUser,j=Object(Se.f)(),d=y.get("accessToken");return Object(r.useEffect)((function(){!o&&d&&(i(!0),v.get("/user").then((function(e){u(e)})).finally((function(){return i(!1)})))}),[d,o,u]),d?c||!o?null:"admin"===(null===o||void 0===o?void 0:o.role)?t:Object(k.jsx)(Se.a,{to:N,state:{from:j}}):Object(k.jsx)(Se.a,{to:N,state:{from:j}})},rt=function(e){var t=e.children,n=Object(r.useState)(!1),a=Object(l.a)(n,2),c=a[0],i=a[1],s=Object(r.useContext)(I),o=s.user,u=s.setUser,j=y.get("accessToken");return Object(r.useEffect)((function(){if(!o&&j)return i(!0),v.get("/user").then((function(e){u(e)})).finally((function(){return i(!1)})),function(){i(!1)}}),[j,o,u]),j?c||!o?null:o?t:Object(k.jsx)(Se.a,{to:N}):Object(k.jsx)(Se.a,{to:N})},at=(n(348),function(){return Object(k.jsxs)(Se.d,{children:[Object(k.jsx)(Se.b,{path:P,element:Object(k.jsx)(C,{children:Object(k.jsx)(S,{children:Object(k.jsx)(ke,{})})})}),Object(k.jsx)(Se.b,{path:F,element:Object(k.jsx)(C,{children:Object(k.jsx)(S,{children:Object(k.jsx)(tt,{})})})}),Object(k.jsx)(Se.b,{path:N,element:Object(k.jsx)(Te,{})}),Object(k.jsx)(Se.b,{path:T,element:Object(k.jsx)(qe,{})}),Object(k.jsx)(Se.b,{path:q,element:Object(k.jsx)(Re,{})}),Object(k.jsx)(Se.b,{path:R,element:Object(k.jsx)(C,{children:Object(k.jsx)(rt,{children:Object(k.jsx)(ze,{})})})}),Object(k.jsx)(Se.b,{path:E,element:Object(k.jsx)(C,{children:Object(k.jsx)(nt,{children:Object(k.jsx)(Le,{})})})}),Object(k.jsx)(Se.b,{path:A,element:Object(k.jsx)(C,{children:Object(k.jsx)(nt,{children:Object(k.jsx)(Qe,{})})})}),Object(k.jsx)(Se.b,{path:M,element:Object(k.jsx)(C,{children:Object(k.jsx)(nt,{children:Object(k.jsx)(Be,{})})})}),Object(k.jsx)(Se.b,{path:_,element:Object(k.jsx)(C,{children:Object(k.jsx)(nt,{children:Object(k.jsx)(Ke,{})})})}),Object(k.jsx)(Se.b,{path:z,element:Object(k.jsx)(C,{children:Object(k.jsx)(nt,{children:Object(k.jsx)(We,{})})})})]})});i.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(s.a,{children:Object(k.jsx)(at,{})})}),document.getElementById("root"))}},[[349,1,2]]]);
//# sourceMappingURL=main.0397e457.chunk.js.map